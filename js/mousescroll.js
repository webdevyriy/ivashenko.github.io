(function(a,b){if(typeof define==="function"&&define.amd){define("smoothScroll",b(a))}else{if(typeof exports==="object"){module.smoothScroll=b(a)}else{a.smoothScroll=b(a)}}})(this,function(k){var f={};var m=!!document.querySelector&&!!k.addEventListener;var d;var e={speed:500,easing:"easeInOutCubic",offset:0,updateURL:false,callbackBefore:function(){},callbackAfter:function(){}};var g=function(q,s,p){if(Object.prototype.toString.call(q)==="[object Object]"){for(var r in q){if(Object.prototype.hasOwnProperty.call(q,r)){s.call(p,q[r],r,q)}}}else{for(var o=0,n=q.length;o<n;o++){s.call(p,q[o],o,q)}}};var i=function(p,o){var n={};g(p,function(q,r){n[r]=p[r]});g(o,function(q,r){n[r]=o[r]});return n};var l=function(n,p){var o;if(n==="easeInQuad"){o=p*p}if(n==="easeOutQuad"){o=p*(2-p)}if(n==="easeInOutQuad"){o=p<0.5?2*p*p:-1+(4-2*p)*p}if(n==="easeInCubic"){o=p*p*p}if(n==="easeOutCubic"){o=(--p)*p*p+1}if(n==="easeInOutCubic"){o=p<0.5?4*p*p*p:(p-1)*(2*p-2)*(2*p-2)+1}if(n==="easeInQuart"){o=p*p*p*p}if(n==="easeOutQuart"){o=1-(--p)*p*p*p}if(n==="easeInOutQuart"){o=p<0.5?8*p*p*p*p:1-8*(--p)*p*p*p}if(n==="easeInQuint"){o=p*p*p*p*p}if(n==="easeOutQuint"){o=1+(--p)*p*p*p*p}if(n==="easeInOutQuint"){o=p<0.5?16*p*p*p*p*p:1+16*(--p)*p*p*p*p}return o||p};var h=function(p,o,q){var n=0;if(p.offsetParent){do{n+=p.offsetTop;p=p.offsetParent}while(p)}n=n-o-q;return n>=0?n:0};var j=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};var b=function(n){return n.replace(/^\s+|\s+$/g,"")};var a=function(n){var o={};if(n){n=n.split(";");n.forEach(function(p){p=b(p);if(p!==""){p=p.split(":");o[p[0]]=b(p[1])}})}return o};var c=function(o,n){if(history.pushState&&(n||n==="true")){history.pushState({pos:o.id},"",o)}};f.animateScroll=function(w,q,o,z){var B=i(B||e,o||{});var v=a(w?w.getAttribute("data-options"):null);B=i(B,v);var F=document.querySelector("[data-scroll-header]");var y=F===null?0:(F.offsetHeight+F.offsetTop);var t=k.pageYOffset;var n=h(document.querySelector(q),y,parseInt(B.offset,10));var x;var p=n-t;var r=j();var C=0;var s,E;if(w&&w.tagName.toLowerCase()==="a"&&z){z.preventDefault()}c(q,B.updateURL);var D=function(G,J,H){var I=k.pageYOffset;if(G==J||I==J||((k.innerHeight+I)>=r)){clearInterval(H);B.callbackAfter(w,q)}};var u=function(){C+=16;s=(C/parseInt(B.speed,10));s=(s>1)?1:s;E=t+(p*l(B.easing,s));k.scrollTo(0,Math.floor(E));D(E,n,x)};var A=function(){B.callbackBefore(w,q);x=setInterval(u,16)};if(k.pageYOffset===0){k.scrollTo(0,0)}A()};f.init=function(n){if(!m){return}d=i(e,n||{});var o=document.querySelectorAll("[data-scroll]");g(o,function(p){p.addEventListener("click",f.animateScroll.bind(null,p,p.hash,d),false)})};return f});
